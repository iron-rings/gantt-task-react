import { Task } from "../../dist/types/public-types";

export interface ITaskProps extends Task {
  detail: string | null;
  note: string | null;
  status: string;
  orderId: string;
}

export interface ISubmitProps {
  orderId: string;
  id: string;
  start: Date | undefined;
  end: Date | undefined;
  progress: number;
  status: string;
  note: string;
}

export interface ITask {
  id: string;
  name: string;
  detail: string;
  start: string;
  end: string;
  status: string;
  progress: number;
  note: string;
  type: string;
  project?: string;
  dependencies?: string[];
  hideChildren?: boolean;
}
export function initTasks() {
  const tasks: ITaskProps[] = [
    {
      orderId: "7",
      id: "order_7",
      name: "具志川メインシティー",
      progress: 100,
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      detail: null,
      note: null,
      status: "",
      type: "order",
      hideChildren: false,
    },
    {
      orderId: "7",
      id: "7",
      name: "まくら関連",
      detail: "まくら関連",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      status: "01",
      progress: 0,
      note: "",
      type: "project",
      dependencies: [],
      hideChildren: false,
      order: "order_7",
    },
    {
      orderId: "7",
      id: "7_2_1",
      name: "まくら製造",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-07-08T02:42:00.000Z"),
      status: "01",
      progress: 0,
      note: "赤色の資材を準備",
      type: "task_grps",
      dependencies: [],
      hideChildren: false,
      project: "7",
      detail: "まくら製造",
    },
    {
      orderId: "8",
      id: "order_8",
      name: "つかざんシティ",
      progress: 100,
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      detail: null,
      note: null,
      status: "",
      type: "order",
      hideChildren: false,
    },
    {
      orderId: "8",
      id: "8",
      name: "まくら関連",
      detail: "まくら関連",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      status: "01",
      progress: 0,
      note: "",
      type: "project",
      dependencies: [],
      hideChildren: false,
      order: "order_8",
    },
    {
      orderId: "8",
      id: "8_2_1",
      name: "まくら製造",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-05-22T03:00:00.000Z"),
      status: "01",
      progress: 0,
      note: "",
      type: "task_grps",
      dependencies: [],
      detail: "まくら製造",
      hideChildren: false,
      project: "8",
    },
    {
      orderId: "9",
      id: "order_9",
      name: "つかざんシティ",
      progress: 100,
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      detail: null,
      note: null,
      status: "",
      type: "order",
      hideChildren: false,
    },
    {
      orderId: "9",
      id: "9",
      name: "まくら関連",
      detail: "まくら関連",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      status: "01",
      progress: 0,
      note: "",
      type: "project",
      dependencies: [],
      hideChildren: false,
      order: "order_9",
    },
    {
      orderId: "9",
      id: "9_2_1",
      name: "まくら製造",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-05-22T03:36:00.000Z"),
      status: "01",
      progress: 0,
      note: "",
      detail: "まくら製造",
      type: "task_grps",
      dependencies: [],
      hideChildren: false,
      project: "9",
    },
    {
      orderId: "10",
      id: "order_10",
      name: "つかざんシティ",
      progress: 100,
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      detail: null,
      note: null,
      status: "",
      type: "order",
      hideChildren: false,
    },
    {
      orderId: "10",
      id: "10",
      name: "まくら関連",
      detail: "まくら関連",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      status: "01",
      progress: 0,
      note: "",
      type: "project",
      dependencies: [],
      hideChildren: false,
      order: "order_10",
    },
    {
      orderId: "10",
      id: "10_2_1",
      name: "まくら製造",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-05-22T03:54:00.000Z"),
      status: "01",
      progress: 0,
      note: "",
      type: "task_grps",
      detail: "まくら製造",
      dependencies: [],
      hideChildren: false,
      project: "10",
    },
    {
      orderId: "11",
      id: "order_11",
      name: "つかざんシティ",
      progress: 100,
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      detail: null,
      note: null,
      status: "",
      type: "order",
      hideChildren: false,
    },
    {
      orderId: "11",
      id: "11",
      name: "まくら関連",
      detail: "まくら関連",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      status: "01",
      progress: 0,
      note: "",
      type: "project",
      dependencies: [],
      hideChildren: false,
      order: "order_11",
    },
    {
      orderId: "11",
      id: "11_2_1",
      name: "まくら製造",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-05-22T04:12:00.000Z"),
      status: "01",
      progress: 0,
      note: "",
      detail: "まくら製造",
      type: "task_grps",
      dependencies: [],
      hideChildren: false,
      project: "11",
    },
    {
      orderId: "12",
      id: "order_12",
      name: "つかざんシティ",
      progress: 100,
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      detail: null,
      note: null,
      status: "",
      type: "order",
      hideChildren: false,
    },
    {
      orderId: "12",
      id: "12",
      name: "まくら関連",
      detail: "まくら関連",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      status: "01",
      progress: 0,
      note: "",
      type: "project",
      dependencies: [],
      hideChildren: false,
      order: "order_12",
    },
    {
      orderId: "12",
      id: "12_2_1",
      name: "まくら製造",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-05-22T04:30:00.000Z"),
      status: "01",
      progress: 0,
      note: "",
      detail: "まくら製造",
      type: "task_grps",
      dependencies: [],
      hideChildren: false,
      project: "12",
    },
    {
      orderId: "13",
      id: "order_13",
      name: "つかざんシティ",
      progress: 100,
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      detail: null,
      note: null,
      status: "",
      type: "order",
      hideChildren: false,
    },
    {
      orderId: "13",
      id: "13",
      name: "まくら関連",
      detail: "まくら関連",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      status: "01",
      progress: 0,
      note: "",
      type: "project",
      dependencies: [],
      hideChildren: false,
      order: "order_13",
    },
    {
      orderId: "13",
      id: "13_2_1",
      name: "まくら製造",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-05-22T04:48:00.000Z"),
      status: "01",
      detail: "まくら製造",
      progress: 0,
      note: "",
      type: "task_grps",
      dependencies: [],
      hideChildren: false,
      project: "13",
    },
    {
      orderId: "14",
      id: "order_14",
      name: "つかざんシティ",
      progress: 100,
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      detail: null,
      note: null,
      status: "",
      type: "order",
      hideChildren: false,
    },
    {
      orderId: "14",
      id: "14",
      name: "まくら関連",
      detail: "まくら関連",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      status: "01",
      progress: 0,
      note: "",
      type: "project",
      dependencies: [],
      hideChildren: false,
      order: "order_14",
    },
    {
      orderId: "14",
      id: "14_2_1",
      name: "まくら製造",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-05-22T05:06:00.000Z"),
      status: "01",
      progress: 0,
      detail: "まくら製造",
      note: "",
      type: "task_grps",
      dependencies: [],
      hideChildren: false,
      project: "14",
    },
    {
      orderId: "15",
      id: "order_15",
      name: "つかざんシティ",
      progress: 100,
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      detail: null,
      note: null,
      status: "",
      type: "order",
      hideChildren: false,
    },
    {
      orderId: "15",
      id: "15",
      name: "まくら関連",
      detail: "まくら関連",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-06-10T00:00:00.000Z"),
      status: "01",
      progress: 0,
      note: "",
      type: "project",
      dependencies: [],
      hideChildren: false,
      order: "order_15",
    },
    {
      orderId: "15",
      id: "15_2_1",
      name: "まくら製造",
      start: new Date("2024-05-22T00:00:00.000Z"),
      end: new Date("2024-05-22T05:24:00.000Z"),
      status: "01",
      progress: 0,
      note: "",
      type: "task_grps",
      detail: "まくら製造",
      dependencies: [],
      hideChildren: false,
      project: "15",
    },
  ];
  return tasks;
}

export function getStartEndDateForProject(tasks: Task[], projectId: string) {
  const projectTasks = tasks.filter(t => t.project === projectId);
  let start = projectTasks[0].start;
  let end = projectTasks[0].end;

  for (let i = 0; i < projectTasks.length; i++) {
    const task = projectTasks[i];
    if (start.getTime() > task.start.getTime()) {
      start = task.start;
    }
    if (end.getTime() < task.end.getTime()) {
      end = task.end;
    }
  }
  return [start, end];
}
